import React, { Component } from 'react'
import './gridManagement.less'
import { Modal } from 'antd'
import echarts from "echarts/lib/echarts";
import "echarts/lib/chart/pie";
import ReactEcharts from "echarts-for-react";
const AMap = window.AMap;
export default class GridManagement extends Component {
    state = {
        gridDetail: {},
        showDetailModal: false,
    }
    map = {};
    polygons = [
        {
            id: 1,
            title: '网格1',
            path: [
                [113.472383,23.361648],[113.468628,23.366021],[113.468778,23.36998],[113.468832,23.370394],[113.468585,23.371507],[113.468639,23.371773],[113.467855,23.373378],[113.466525,23.374609],[113.466182,23.377051],[113.467169,23.3778],[113.467308,23.379188],[113.467287,23.379937],[113.468027,23.38228],[113.468521,23.387066],[113.468113,23.389272],[113.466815,23.389095],[113.464068,23.387835],[113.463199,23.386938],[113.46188,23.386554],[113.459991,23.38685],[113.460163,23.389607],[113.460217,23.390168],[113.460978,23.391734],[113.462448,23.39199],[113.463929,23.391685],[113.465989,23.391793],[113.468832,23.393034],[113.468939,23.393546],[113.468102,23.394531],[113.467512,23.396313],[113.467405,23.399286],[113.467737,23.401108],[113.468918,23.402132],[113.470162,23.402654],[113.470817,23.402644],[113.471611,23.402162],[113.472211,23.401531],[113.47249,23.400823],[113.474647,23.400015],[113.478627,23.400045],[113.481256,23.401453],[113.48176,23.401975],[113.482168,23.405588],[113.485901,23.406199],[113.48618,23.405844],[113.486824,23.405933],[113.487908,23.406671],[113.488616,23.406779],[113.489152,23.407134],[113.489721,23.407636],[113.490171,23.408758],[113.490021,23.410019],[113.490708,23.410984],[113.492038,23.412027],[113.493937,23.411663],[113.496727,23.412096],[113.496931,23.412145],[113.497199,23.411998],[113.498218,23.411761],[113.498293,23.411594],[113.503228,23.410029],[113.51355,23.40801],[113.515073,23.40481],[113.514354,23.400596],[113.514354,23.395338],[113.515631,23.395259],[113.518496,23.394668],[113.520148,23.393526],[113.522798,23.390493],[113.523238,23.39004],[113.524042,23.389666],[113.525115,23.389469],[113.529578,23.387342],[113.532068,23.385737],[113.534514,23.384979],[113.535769,23.384969],[113.538955,23.386997],[113.539352,23.383492],[113.542957,23.380823],[113.546605,23.376283],[113.548,23.375564],[113.549867,23.37324],[113.551143,23.372206],[113.552903,23.370955],[113.553826,23.369409],[113.554384,23.367813],[113.557956,23.367754],[113.563857,23.371014],[113.564758,23.369547],[113.568406,23.367794],[113.570348,23.367282],[113.573685,23.363529],[113.573577,23.361707]
            ],
        },
        {
            id: 2,
            title: '网格2',
            path: [
                [113.472595,23.36137],[113.472337,23.361567],[113.52478,23.361645],[113.524737,23.31172],[113.50903,23.31172],[113.508601,23.313316],[113.506498,23.316892],[113.50645,23.317006],[113.505125,23.317784],[113.504277,23.318617],[113.503864,23.318878],[113.497749,23.320809],[113.495689,23.322154],[113.494262,23.322316],[113.493339,23.322262],[113.492583,23.321533],[113.492626,23.321464],[113.491306,23.320804],[113.491006,23.320789],[113.490711,23.321306],[113.490357,23.321676],[113.488849,23.324085],[113.48842,23.325829],[113.487401,23.326814],[113.485212,23.326853],[113.481414,23.325292],[113.48113,23.325099],[113.475443,23.325292],[113.474982,23.325434],[113.473625,23.326331],[113.472992,23.326277],[113.471822,23.326508],[113.471399,23.327168],[113.47054,23.328124],[113.470589,23.328651],[113.470959,23.330227],[113.471238,23.332774],[113.471458,23.333513],[113.471474,23.333931],[113.471415,23.334523],[113.471232,23.335296],[113.470814,23.336232],[113.470487,23.336345],[113.47009,23.33634],[113.46965,23.336187],[113.469349,23.335995],[113.469162,23.335798],[113.467735,23.335808],[113.466608,23.33632],[113.465911,23.336581],[113.46516,23.336843],[113.463298,23.337118],[113.463266,23.337148],[113.465825,23.340537],[113.466115,23.341019],[113.466555,23.341133],[113.467048,23.341167],[113.46759,23.341423],[113.468137,23.341783],[113.469532,23.342108],[113.469768,23.342285],[113.470084,23.344649],[113.470095,23.344768],[113.47046,23.345408],[113.469473,23.346477],[113.469505,23.348875],[113.468969,23.350057],[113.468695,23.351146],[113.469575,23.35154],[113.471039,23.351239],[113.471983,23.350835],[113.473882,23.350707],[113.477101,23.355583],[113.474869,23.358267],[113.473185,23.360631]
            ],
        },
        {
            id: 3,
            title: '网格3',
            path: [
                [113.524821,23.361617],[113.573584,23.361687],[113.573541,23.360565],[113.573825,23.35957],[113.577243,23.35729],[113.577291,23.357181],[113.580451,23.35563],[113.581792,23.355059],[113.584764,23.351784],[113.586561,23.35037],[113.586861,23.350148],[113.587537,23.349878],[113.589109,23.347523],[113.588395,23.345371],[113.588953,23.345046],[113.589109,23.344908],[113.589715,23.344928],[113.589999,23.344933],[113.591458,23.343613],[113.591372,23.343273],[113.590986,23.342879],[113.590697,23.342672],[113.589972,23.34246],[113.587617,23.340475],[113.587226,23.339933],[113.586866,23.339608],[113.58618,23.339264],[113.585804,23.339022],[113.585531,23.338934],[113.585101,23.338535],[113.584007,23.336555],[113.584495,23.335028],[113.584865,23.334693],[113.58662,23.332126],[113.586899,23.331442],[113.587183,23.330649],[113.587548,23.33055],[113.588089,23.330727],[113.588454,23.331087],[113.588647,23.331328],[113.588776,23.331368],[113.588878,23.331309],[113.58927,23.330008],[113.589441,23.329028],[113.589323,23.328191],[113.589168,23.327659],[113.588937,23.327274],[113.588781,23.326659],[113.588824,23.325905],[113.589071,23.325388],[113.589313,23.324649],[113.589602,23.32421],[113.59023,23.320802],[113.590375,23.320363],[113.590466,23.319935],[113.590884,23.319555],[113.592633,23.319506],[113.593545,23.318171],[113.595246,23.317797],[113.597289,23.316161],[113.597493,23.316082],[113.599521,23.314481],[113.60105,23.314304],[113.60311,23.313176],[113.603244,23.313195],[113.605347,23.313102],[113.606194,23.313496],[113.606624,23.313289],[113.607546,23.312525],[113.607562,23.311703],[113.598641,23.311713],[113.607558,23.311661],[113.607687,23.309218],[113.606056,23.308114],[113.604812,23.307877],[113.603653,23.306813],[113.602709,23.306577],[113.600563,23.306262],[113.599748,23.30567],[113.598975,23.305158],[113.598288,23.306971],[113.599791,23.309099],[113.599061,23.30969],[113.598632,23.311543],[113.598503,23.312922],[113.597344,23.313829],[113.593933,23.315024],[113.592795,23.315496],[113.592366,23.315723],[113.592012,23.315861],[113.591626,23.31595],[113.591368,23.315841],[113.591014,23.315925],[113.590896,23.315827],[113.591106,23.315063],[113.591111,23.31492],[113.591905,23.31257],[113.591776,23.312127],[113.591781,23.311718],[113.524756,23.311716]
            ],
        },
        {
            id: 4,
            title: '网格4',
            path: [
                [113.508984,23.311678],[113.549797,23.311707],[113.549792,23.261727],[113.495431,23.261713],[113.495367,23.261954],[113.495646,23.262698],[113.496821,23.26326],[113.497346,23.26325],[113.497717,23.263492],[113.500957,23.264157],[113.502609,23.265453],[113.504299,23.266059],[113.505618,23.266227],[113.506058,23.266882],[113.506096,23.266882],[113.506069,23.267651],[113.506117,23.267705],[113.506133,23.267833],[113.506444,23.26844],[113.506739,23.270051],[113.506927,23.270396],[113.506959,23.270948],[113.506922,23.271199],[113.507287,23.271801],[113.507228,23.272323],[113.507394,23.272742],[113.509057,23.273141],[113.510157,23.273944],[113.509872,23.274531],[113.509094,23.274698],[113.508472,23.274703],[113.508204,23.274945],[113.508032,23.275891],[113.507898,23.27627],[113.507635,23.276753],[113.507115,23.277024],[113.506621,23.277093],[113.506589,23.277108],[113.506461,23.276379],[113.506503,23.275886],[113.506332,23.275492],[113.505897,23.275432],[113.505447,23.275073],[113.505243,23.274531],[113.505264,23.273205],[113.506176,23.273294],[113.506412,23.273013],[113.506418,23.272624],[113.506214,23.271461],[113.506155,23.271194],[113.505892,23.271081],[113.505693,23.271051],[113.505452,23.271047],[113.505157,23.271027],[113.504808,23.270958],[113.504132,23.271012],[113.504068,23.271436],[113.503853,23.271865],[113.503837,23.273895],[113.503719,23.274506],[113.503805,23.275176],[113.503204,23.276709],[113.503199,23.277729],[113.504229,23.278379],[113.506058,23.279197],[113.506042,23.279414],[113.505726,23.280143],[113.50564,23.280636],[113.505731,23.280986],[113.505693,23.281291],[113.505404,23.281838],[113.504685,23.282681],[113.503961,23.282962],[113.503033,23.282957],[113.497067,23.285608],[113.495254,23.286495],[113.495109,23.286687],[113.495249,23.287229],[113.496531,23.288343],[113.498328,23.290737],[113.500785,23.296162],[113.500892,23.296547],[113.503435,23.298714],[113.504175,23.299542],[113.509341,23.30273],[113.509373,23.303006],[113.50947,23.303227],[113.509583,23.303306],[113.509845,23.307814],[113.509105,23.311125]
            ],
        },
        {
            id: 5,
            title: '网格5',
            path: [
                [113.549824,23.311688],[113.591783,23.311706],[113.591874,23.311504],[113.592105,23.311268],[113.59248,23.310208],[113.593462,23.307046],[113.594074,23.305361],[113.592588,23.303286],[113.592475,23.303208],[113.592121,23.301803],[113.593398,23.299665],[113.592657,23.296512],[113.592722,23.296305],[113.592808,23.295753],[113.593666,23.295172],[113.594943,23.295576],[113.595146,23.296009],[113.595168,23.296335],[113.59527,23.296497],[113.595302,23.296852],[113.595399,23.297005],[113.595463,23.297192],[113.595951,23.297418],[113.596412,23.297492],[113.596809,23.29731],[113.59697,23.297172],[113.597223,23.297019],[113.597265,23.296965],[113.597115,23.293994],[113.597255,23.293078],[113.597169,23.292728],[113.596954,23.292334],[113.596702,23.292186],[113.596423,23.291846],[113.596198,23.291708],[113.595892,23.291467],[113.59549,23.291191],[113.594969,23.291102],[113.594599,23.291235],[113.594165,23.291535],[113.594159,23.291535],[113.591831,23.291944],[113.589122,23.2926],[113.588945,23.292452],[113.588741,23.291797],[113.588543,23.291476],[113.588478,23.291122],[113.588489,23.290752],[113.588446,23.290609],[113.588065,23.290156],[113.588012,23.289914],[113.588076,23.28954],[113.588103,23.289082],[113.588065,23.288875],[113.587915,23.288692],[113.587969,23.288535],[113.588071,23.288397],[113.588049,23.288081],[113.588012,23.287781],[113.588157,23.287357],[113.588173,23.286741],[113.58813,23.286524],[113.588178,23.286204],[113.588623,23.285992],[113.588725,23.286081],[113.588838,23.286495],[113.592416,23.285864],[113.593784,23.285904],[113.596568,23.285958],[113.597727,23.286411],[113.598934,23.287342],[113.600495,23.287022],[113.601841,23.287155],[113.602029,23.28615],[113.601283,23.285273],[113.600961,23.284874],[113.600774,23.283854],[113.601278,23.283272],[113.601412,23.28311],[113.601788,23.282302],[113.601707,23.28139],[113.601337,23.280552],[113.601471,23.278325],[113.601831,23.276388],[113.601809,23.273693],[113.60293,23.271313],[113.60293,23.269913],[113.602667,23.268927],[113.602104,23.268661],[113.599658,23.268282],[113.598204,23.267252],[113.597126,23.265423],[113.597131,23.264492],[113.59807,23.26361],[113.599009,23.261703],[113.549799,23.261719]
            ],
        },
        {
            id: 6,
            title: '网格6',
            path: [
                [113.4016,23.211711],[113.400666,23.212333],[113.399829,23.212914],[113.398923,23.213422],[113.398048,23.214236],[113.398064,23.21424],[113.398064,23.214398],[113.398504,23.214827],[113.399169,23.215034],[113.399647,23.215508],[113.399652,23.215882],[113.399894,23.216602],[113.400661,23.217026],[113.40197,23.221591],[113.401819,23.222257],[113.401964,23.222764],[113.401846,23.223272],[113.401905,23.223612],[113.401626,23.224184],[113.401685,23.225372],[113.401905,23.226043],[113.402147,23.226333],[113.402195,23.227068],[113.402479,23.227536],[113.402404,23.227812],[113.406288,23.232372],[113.406948,23.233669],[113.407736,23.234186],[113.4083,23.234398],[113.410531,23.236444],[113.411331,23.237351],[113.410558,23.239865],[113.410623,23.240185],[113.410472,23.241595],[113.410757,23.242724],[113.409973,23.243448],[113.409882,23.244922],[113.409517,23.245725],[113.409662,23.245893],[113.41066,23.245853],[113.411368,23.246356],[113.412328,23.246514],[113.412237,23.246691],[113.411765,23.247086],[113.411379,23.247219],[113.411502,23.248096],[113.411878,23.248111],[113.412141,23.248362],[113.412275,23.247899],[113.41264,23.247618],[113.412913,23.247352],[113.41427,23.247041],[113.414619,23.247027],[113.416303,23.248037],[113.416443,23.248707],[113.417403,23.249033],[113.418315,23.248816],[113.419061,23.248136],[113.41934,23.247998],[113.418771,23.24505],[113.420053,23.244232],[113.421802,23.242906],[113.422397,23.241546],[113.422532,23.241442],[113.42281,23.241412],[113.423052,23.241511],[113.423379,23.241743],[113.423529,23.242014],[113.424323,23.242556],[113.42538,23.242566],[113.425739,23.240998],[113.426646,23.240013],[113.427714,23.239263],[113.428137,23.240151],[113.428883,23.240387],[113.429564,23.241048],[113.429672,23.241541],[113.430069,23.242186],[113.429682,23.244237],[113.429784,23.246263],[113.428904,23.246125],[113.4281,23.24645],[113.427864,23.24644],[113.427268,23.246208],[113.426448,23.246401],[113.426029,23.247036],[113.425208,23.24716],[113.425074,23.249279],[113.4253,23.250615],[113.426238,23.251053],[113.427671,23.250876],[113.429977,23.249659],[113.430766,23.249723],[113.431206,23.249575],[113.432043,23.250881],[113.433276,23.251699],[113.434398,23.251773],[113.434961,23.253069],[113.434875,23.253853],[113.434714,23.254267],[113.434215,23.254888],[113.433883,23.255824],[113.432509,23.257111],[113.43201,23.257939],[113.431109,23.258111],[113.430567,23.259082],[113.430262,23.259215],[113.429849,23.26024],[113.428255,23.26299],[113.428148,23.263596],[113.427456,23.265252],[113.427472,23.265454],[113.427649,23.265632],[113.428078,23.265819],[113.430524,23.266524],[113.43282,23.266568],[113.433588,23.266258],[113.433867,23.266218],[113.435143,23.266415],[113.435664,23.26641],[113.436039,23.266292],[113.436484,23.266322],[113.436838,23.266484],[113.437884,23.267145],[113.438485,23.267652],[113.438834,23.267835],[113.440824,23.267426],[113.441892,23.266598],[113.443673,23.265533],[113.444971,23.264878],[113.446274,23.261876],[113.446425,23.261709],[113.446972,23.261655],[113.447422,23.26132],[113.447744,23.260851],[113.447755,23.260129],[113.447889,23.259902],[113.447991,23.259814],[113.448511,23.259449],[113.449053,23.259222],[113.449386,23.258651],[113.448855,23.257867],[113.448672,23.257586],[113.448415,23.257423],[113.447991,23.257404],[113.447594,23.257379],[113.447288,23.257197],[113.447074,23.256926],[113.447267,23.255452],[113.447653,23.254205],[113.44783,23.253954],[113.448002,23.253835],[113.448308,23.253623],[113.448399,23.251854],[113.448249,23.251534],[113.447015,23.251603],[113.445202,23.251509],[113.444096,23.251292],[113.443458,23.250671],[113.442219,23.249232],[113.442128,23.249109],[113.443308,23.248379],[113.444697,23.248089],[113.445663,23.248024],[113.446521,23.248335],[113.447122,23.248266],[113.447251,23.248128],[113.447272,23.247916],[113.446725,23.24698],[113.446366,23.246842],[113.445604,23.246861],[113.444134,23.246423],[113.441854,23.24626],[113.44164,23.246339],[113.441527,23.246339],[113.440433,23.245131],[113.44209,23.243697],[113.442782,23.244347],[113.444375,23.244747],[113.444966,23.245427],[113.445733,23.245895],[113.446392,23.246018],[113.447143,23.246511],[113.447884,23.246501],[113.447991,23.2466],[113.447978,23.211724]
            ],
        },
        {
            id: 7,
            title: '网格7',
            path: [
               [113.448015,23.246571],[113.44948,23.246098],[113.449689,23.245768],[113.450038,23.244309],[113.450274,23.244018],[113.450799,23.244117],[113.45176,23.243851],[113.452945,23.244018],[113.456684,23.244876],[113.458315,23.245098],[113.459007,23.244841],[113.459189,23.244802],[113.459699,23.244486],[113.460434,23.244339],[113.462521,23.245196],[113.463148,23.245107],[113.463272,23.245236],[113.464725,23.244881],[113.46509,23.244043],[113.46524,23.243348],[113.465423,23.243146],[113.467155,23.243018],[113.467327,23.24317],[113.468078,23.243397],[113.468454,23.243377],[113.46928,23.24143],[113.469886,23.240982],[113.470562,23.240829],[113.471002,23.241002],[113.471517,23.241593],[113.471635,23.241766],[113.471629,23.242283],[113.471324,23.242549],[113.470669,23.242673],[113.470202,23.242983],[113.46994,23.243708],[113.46994,23.244358],[113.469564,23.245206],[113.469752,23.245275],[113.469983,23.245157],[113.470288,23.245295],[113.471651,23.245339],[113.474929,23.245822],[113.475068,23.245699],[113.475089,23.245551],[113.474886,23.245083],[113.474886,23.244408],[113.47502,23.243915],[113.475207,23.243821],[113.475905,23.244408],[113.476645,23.245349],[113.47768,23.246231],[113.478871,23.246177],[113.479301,23.246488],[113.479966,23.247128],[113.480052,23.247217],[113.480293,23.24734],[113.479547,23.24806],[113.478737,23.247858],[113.478383,23.247922],[113.477959,23.248292],[113.477772,23.248577],[113.477793,23.248868],[113.477922,23.249159],[113.478335,23.249548],[113.47952,23.250332],[113.479928,23.250716],[113.480422,23.251441],[113.480781,23.252377],[113.48098,23.252634],[113.48136,23.252708],[113.482685,23.252333],[113.483506,23.252555],[113.484853,23.252402],[113.489584,23.253023],[113.489895,23.253274],[113.490373,23.253102],[113.49129,23.253028],[113.492116,23.253669],[113.492465,23.254443],[113.492765,23.257158],[113.493752,23.259233],[113.494305,23.259322],[113.494841,23.259825],[113.495324,23.260012],[113.495571,23.260273],[113.495651,23.260904],[113.495442,23.261712],[113.497983,23.261699],[113.4975,23.212467],[113.497972,23.211757],[113.448006,23.21176]
            ],
        },
        {
            id: 8,
            title: '网格8',
            path: [
                [113.498000, 23.261704], [113.548000, 23.261704], [113.548000, 23.211704], [113.498000, 23.211704]
            ],
        },
        {
            id: 9,
            title: '网格9',
            path: [
                [113.548021,23.261693],[113.599006,23.261695],[113.599816,23.260093],[113.600283,23.259714],[113.600471,23.258033],[113.60053,23.256924],[113.601147,23.255648],[113.600621,23.252691],[113.600122,23.252513],[113.597274,23.253257],[113.596925,23.253262],[113.596624,23.252129],[113.596576,23.251025],[113.59921,23.250315],[113.601699,23.251587],[113.602863,23.250892],[113.602289,23.249566],[113.600551,23.248201],[113.60017,23.24755],[113.600176,23.245933],[113.600004,23.245638],[113.598797,23.245184],[113.597488,23.244839],[113.59855,23.244272],[113.602906,23.243301],[113.603255,23.242705],[113.602745,23.241586],[113.601688,23.240428],[113.59877,23.23886],[113.596442,23.238589],[113.594355,23.237938],[113.593486,23.237214],[113.592784,23.235582],[113.590053,23.232871],[113.587119,23.229834],[113.583016,23.218948],[113.586942,23.21175],[113.548082,23.21175]
            ],
        },
        {
            id: 10,
            title: '网格10',
            path: [
                [113.401621,23.211687],[113.459961,23.211726],[113.459979,23.161726],[113.419424,23.161726],[113.419434,23.165903],[113.415218,23.166323],[113.415535,23.166776],[113.421323,23.166096],[113.421993,23.167195],[113.422605,23.169001],[113.423131,23.170519],[113.423967,23.171437],[113.425984,23.172763],[113.426671,23.172773],[113.427422,23.173084],[113.428543,23.173962],[113.429938,23.175915],[113.429938,23.176502],[113.429477,23.17694],[113.429257,23.177557],[113.429359,23.177922],[113.429246,23.178726],[113.428109,23.178494],[113.427513,23.179095],[113.426317,23.177744],[113.426258,23.177695],[113.426188,23.177759],[113.425427,23.178302],[113.425244,23.178366],[113.424552,23.178459],[113.4243,23.178583],[113.423034,23.176935],[113.423007,23.17695],[113.423029,23.176891],[113.422192,23.175708],[113.420443,23.17694],[113.420357,23.176901],[113.419445,23.175668],[113.417847,23.174376],[113.417664,23.174317],[113.415867,23.175195],[113.415304,23.175574],[113.415567,23.177019],[113.417015,23.176881],[113.417294,23.177162],[113.417975,23.177478],[113.419075,23.17878],[113.421553,23.181384],[113.42151,23.183001],[113.42187,23.183593],[113.421881,23.183884],[113.421092,23.184549],[113.419295,23.185674],[113.419113,23.18598],[113.419096,23.186463],[113.419402,23.187153],[113.420599,23.188253],[113.420877,23.188667],[113.420877,23.189066],[113.420491,23.189855],[113.42054,23.19027],[113.423007,23.19133],[113.423812,23.19134],[113.423946,23.191611],[113.423924,23.19204],[113.423635,23.192631],[113.421972,23.194047],[113.421618,23.194609],[113.417417,23.196818],[113.411737,23.201231],[113.408958,23.20339],[113.408126,23.204342],[113.407998,23.205052],[113.407643,23.205422],[113.40745,23.20586],[113.407391,23.206166],[113.407558,23.206541],[113.407466,23.207512],[113.405557,23.208902]
            ],
        },
        {
            id: 11,
            title: '网格11',
            path: [
                [113.460000, 23.211704], [113.520000, 23.211704], [113.520000, 23.161704], [113.460000, 23.161704]
            ],
        },
        {
            id: 12,
            title: '网格12',
            path: [
                [113.520019,23.211657],[113.586915,23.211742],[113.587028,23.211535],[113.582758,23.208301],[113.584522,23.207665],[113.583278,23.203484],[113.58029,23.204584],[113.58199,23.199564],[113.579566,23.198534],[113.574695,23.195985],[113.574861,23.194362],[113.576969,23.19381],[113.579131,23.192543],[113.580059,23.188879],[113.580424,23.183406],[113.58022,23.182912],[113.580494,23.181596],[113.581084,23.178898],[113.580821,23.169795],[113.580435,23.169316],[113.580424,23.168098],[113.580451,23.167348],[113.578182,23.163309],[113.577677,23.163847],[113.5733,23.166959],[113.57242,23.169331],[113.571036,23.169326],[113.570071,23.168695],[113.568258,23.169558],[113.567206,23.171156],[113.565066,23.171792],[113.56027,23.17191],[113.558146,23.172571],[113.550866,23.172142],[113.549026,23.16942],[113.548103,23.167506],[113.547835,23.166421],[113.547755,23.165686],[113.547883,23.164952],[113.548366,23.163872],[113.549514,23.162204],[113.549852,23.161701],[113.520008,23.161716]
            ],
        },
        {
            id: 13,
            title: '网格13',
            path: [
                [113.419383,23.1617],[113.465954,23.161698],[113.465975,23.111729],[113.42646,23.111734],[113.428295,23.116204],[113.428831,23.117866],[113.429652,23.119776],[113.43065,23.1217],[113.431315,23.122741],[113.432178,23.123717],[113.432833,23.124196],[113.432999,23.124196],[113.433595,23.124009],[113.43471,23.123989],[113.437055,23.124102],[113.437597,23.123722],[113.438047,23.123535],[113.439281,23.12351],[113.439512,23.123584],[113.439705,23.12393],[113.439732,23.124309],[113.439678,23.124936],[113.440086,23.125681],[113.44059,23.126584],[113.440547,23.127575],[113.440965,23.128024],[113.441142,23.128251],[113.442451,23.130595],[113.442838,23.131132],[113.443133,23.131364],[113.443519,23.131537],[113.443669,23.131566],[113.44479,23.134146],[113.445064,23.134931],[113.447102,23.135597],[113.447644,23.136016],[113.447757,23.137136],[113.447526,23.138404],[113.447038,23.139257],[113.447081,23.13973],[113.448046,23.141664],[113.443503,23.142626],[113.437355,23.143356],[113.437387,23.144234],[113.438042,23.152674],[113.437999,23.154272],[113.435837,23.15222],[113.434877,23.151786],[113.433739,23.152027],[113.432758,23.153256],[113.431057,23.154612],[113.425838,23.157872],[113.425392,23.159263],[113.41571,23.157414],[113.415715,23.158449],[113.419341,23.161665]
            ],
        },
        {
            id: 14,
            title: '网格14',
            path: [
                [113.466000, 23.161704], [113.516000, 23.161704], [113.516000, 23.111704], [113.466000, 23.111704]
            ],
        },
        {
            id: 15,
            title: '网格15',
            path: [
                [113.51604,23.161675],[113.549868,23.16169],[113.550367,23.16096],[113.55077,23.160289],[113.550931,23.159973],[113.552803,23.154607],[113.554063,23.150947],[113.554659,23.149527],[113.555018,23.147934],[113.554991,23.147312],[113.553854,23.145092],[113.552454,23.142705],[113.551789,23.141748],[113.550845,23.140357],[113.550587,23.139602],[113.550598,23.139065],[113.550845,23.138428],[113.551043,23.13794],[113.551456,23.137249],[113.552497,23.136376],[113.5535,23.135296],[113.555694,23.133411],[113.557153,23.132168],[113.557738,23.131354],[113.557314,23.129988],[113.557212,23.129519],[113.557212,23.129001],[113.558478,23.12611],[113.558307,23.122973],[113.55821,23.122381],[113.558575,23.121734],[113.558623,23.121177],[113.558468,23.120289],[113.557636,23.118527],[113.557062,23.117886],[113.556263,23.117003],[113.553264,23.115508],[113.553243,23.1146],[113.552159,23.112957],[113.551488,23.113026],[113.551134,23.112918],[113.550169,23.112479],[113.550035,23.11238],[113.54982,23.111714],[113.516016,23.111715]
            ],
        },
        {
            id: 16,
            title: '网格16',
            path: [
               [113.426447,23.111703],[113.458959,23.111709],[113.458943,23.075965],[113.455059,23.076178],[113.451449,23.076202],[113.447769,23.075852],[113.444196,23.074707],[113.438859,23.072289],[113.437636,23.071716],[113.434707,23.070097],[113.431193,23.068261],[113.429321,23.06719],[113.426987,23.065971],[113.425421,23.065167],[113.422648,23.063829],[113.422186,23.063597],[113.411742,23.063523],[113.408357,23.062872],[113.407,23.062862],[113.402547,23.064807],[113.40112,23.065937],[113.400112,23.067867],[113.400224,23.068735],[113.400541,23.069554],[113.400729,23.070053],[113.402107,23.072358],[113.40237,23.072822],[113.402563,23.074021],[113.402483,23.074796],[113.401437,23.077007],[113.400471,23.079025],[113.39987,23.080224],[113.400863,23.080678],[113.40083,23.080817],[113.402949,23.081473],[113.407557,23.082569],[113.408432,23.082835],[113.408979,23.083062],[113.409843,23.083299],[113.412895,23.084661],[113.419702,23.087775],[113.413769,23.091575],[113.4168,23.096845],[113.414681,23.098118],[113.415685,23.099904],[113.41576,23.100151],[113.417095,23.103096],[113.417154,23.103343],[113.417444,23.103259],[113.417508,23.103304],[113.417685,23.103387],[113.417766,23.103466],[113.421725,23.10543],[113.424938,23.10805],[113.425888,23.110374]
            ],
        },
        {
            id: 17,
            title: '网格17',
            path: [
                [113.458994,23.111691],[113.51899,23.111696],[113.518966,23.061717],[113.492219,23.061746],[113.489805,23.063069],[113.480482,23.068212],[113.473776,23.071578],[113.46913,23.073463],[113.462961,23.075339],[113.45896,23.07597]
            ],
        },
        {
            id: 18,
            title: '网格18',
            path: [
               [113.519031,23.11168],[113.549807,23.111702],[113.549577,23.110992],[113.549593,23.109477],[113.549598,23.107568],[113.550376,23.107716],[113.551642,23.107834],[113.55183,23.107721],[113.55228,23.107459],[113.552886,23.107099],[113.553085,23.106827],[113.553117,23.106556],[113.55316,23.106151],[113.552801,23.105476],[113.552548,23.104888],[113.552506,23.104637],[113.552548,23.104346],[113.552897,23.103971],[113.553578,23.103354],[113.553991,23.102994],[113.554447,23.10251],[113.554587,23.102362],[113.555917,23.100216],[113.558632,23.098109],[113.559007,23.098084],[113.559163,23.098035],[113.560064,23.097837],[113.560322,23.097753],[113.560756,23.097719],[113.561142,23.097438],[113.562247,23.097063],[113.56302,23.097309],[113.56413,23.097428],[113.564425,23.096342],[113.564506,23.096081],[113.564806,23.09314],[113.566839,23.092572],[113.567247,23.092582],[113.568502,23.091082],[113.56957,23.089537],[113.569768,23.087272],[113.570332,23.084188],[113.562467,23.082017],[113.556314,23.081237],[113.552055,23.078414],[113.549024,23.076045],[113.546986,23.071372],[113.545618,23.067912],[113.543724,23.06227],[113.543289,23.061713],[113.518978,23.061724]
            ],
        },
        {
            id: 19,
            title: '网格19',
            path: [
                [113.492227,23.061712],[113.54328,23.061701],[113.542261,23.060285],[113.541815,23.059653],[113.540796,23.058286],[113.54056,23.057955],[113.536987,23.055038],[113.534831,23.053286],[113.533248,23.051992],[113.531977,23.050951],[113.530539,23.048972],[113.528458,23.046173],[113.52658,23.043606],[113.526173,23.043033],[113.524987,23.04094],[113.523791,23.038857],[113.522911,23.037282],[113.522675,23.03626],[113.522208,23.034261],[113.521945,23.03316],[113.521704,23.030213],[113.520358,23.03197],[113.51892,23.033846],[113.515991,23.037682],[113.513448,23.041266],[113.509752,23.046805],[113.506448,23.051909],[113.503347,23.054643],[113.498659,23.058069],[113.496465,23.059609],[113.493519,23.06102]
            ],
        },
    ];
    peopleOption = {
        tooltip: {
            trigger: 'item',
            formatter: "{b}:{c}({d}%)"
        },
        title: {
            text: '实有人口',
            textStyle: {
                fontSize: 16,
                color: "#00BFFF"
            },
            textAlign: "center",
            x: '48%',
            y: '45%',
        },
        color: [
            '#00acee',
            '#52cdd5',
            '#79d9f1',
            '#a7e7ff',
            '#c8efff'
        ],
        series: [
            {
                type: 'pie',
                radius: ['50', '90'],
                label: {
                    normal: {
                        position: 'inner',
                        color: '#FF4500',
                        formatter: '{b}\n{c}'
                    }
                },
                data: [{
                    name: '常住人口',
                    value: '4681'
                }, {
                    name: '流动人口',
                    value: '2497'
                }],
            },
            {
                type: 'pie',
                radius: ['95', '96'],
                data: [100],
                label: {
                    show: false
                }
            },
            {
                type: 'pie',
                radius: ['44', '45'],
                data: [100],
                label: {
                    show: false
                }
            }
        ]
    }
    buildingOption = {
        tooltip: {
            trigger: 'item',
            formatter: "{b}:{c}({d}%)"
        },
        title: {
            text: '实有房屋',
            textStyle: {
                fontSize: 16,
                color: "#00BFFF"
            },
            textAlign: "center",
            x: '48%',
            y: '45%',
        },
        color: [
            '#00acee',
            '#52cdd5',
            '#79d9f1',
            '#a7e7ff',
            '#c8efff'
        ],
        series: [
            {

                type: 'pie',
                radius: ['50', '90'],
                label: {
                    normal: {
                        position: 'inner',
                        color: '#FF4500',
                        formatter: '{b}\n{c}'
                    }
                },
                data: [{
                    name: '空置',
                    value: '687'
                }, {
                    name: '自住',
                    value: '2703'
                }, {
                    name: '出租',
                    value: '1778'
                }],
            },
            {
                type: 'pie',
                radius: ['95', '96'],
                data: [100],
                label: {
                    show: false
                }
            },
            {
                type: 'pie',
                radius: ['44', '45'],
                data: [100],
                label: {
                    show: false
                }
            }
        ]
    }
    companyOption = {
        tooltip: {
            trigger: 'item',
            formatter: "{b}:{c}({d}%)"
        },
        title: {
            text: '实有单位',
            textStyle: {
                fontSize: 16,
                color: "#00BFFF"
            },
            textAlign: "center",
            x: '48%',
            y: '45%',
        },
        color: [
            '#00acee',
            '#52cdd5',
            '#79d9f1',
            '#a7e7ff',
            '#c8efff'
        ],
        series: [
            {

                type: 'pie',
                radius: ['50', '90'],
                label: {
                    normal: {
                        position: 'inner',
                        color: '#FF4500',
                        formatter: '{b}\n{c}'
                    }
                },
                data: [{
                    name: '事业单位',
                    value: '67'
                }, {
                    name: '机关单位',
                    value: '21'
                }, {
                    name: '企业单位',
                    value: '83'
                }, {
                    name: '社会群体',
                    value: '34'
                },
                {
                    name: '民办单位',
                    value: '48'
                }],
            },
            {
                type: 'pie',
                radius: ['95', '96'],
                data: [100],
                label: {
                    show: false
                }
            },
            {
                type: 'pie',
                radius: ['44', '45'],
                data: [100],
                label: {
                    show: false
                }
            }
        ]
    }
    carOption = {
        tooltip: {
            trigger: 'item',
            formatter: "{b}:{c}({d}%)"
        },
        title: {
            text: '实有车辆',
            textStyle: {
                fontSize: 16,
                color: "#00BFFF"
            },
            textAlign: "center",
            x: '48%',
            y: '45%',
        },
        color: [
            '#00acee',
            '#52cdd5',
            '#79d9f1',
            '#a7e7ff',
            '#c8efff',
            '#1E90FF'
        ],
        series: [
            {

                type: 'pie',
                radius: ['50', '90'],
                label: {
                    normal: {
                        position: 'inner',
                        color: '#FF4500',
                        formatter: '{b}\n{c}'
                    }
                },
                data: [{
                    name: '家用',
                    value: '317'
                }, {
                    name: '营业',
                    value: '248'
                }, {
                    name: '非营业',
                    value: '199'
                }, {
                    name: '特种车',
                    value: '189'
                }, {
                    name: '摩托车',
                    value: '78'
                },
                {
                    name: '其他',
                    value: '318'
                }],
            },
            {
                type: 'pie',
                radius: ['95', '96'],
                data: [100],
                label: {
                    show: false
                }
            },
            {
                type: 'pie',
                radius: ['44', '45'],
                data: [100],
                label: {
                    show: false
                }
            }
        ]
    }
    peopleChangeOption = {
        tooltip: {
            trigger: 'axis'
        },
        legend: {
            color: ["#F58080", "#47D8BE", "#F9A589"],
            data: ['常住人口', '流动人口',],
            left: 'center',
            bottom: 'bottom'
        },
        grid: {
            top: 'middle',
            left: '3%',
            right: '4%',
            bottom: '3%',
            height: '80%',
            containLabel: true
        },
        xAxis: {
            type: 'category',
            data: ['2019-10', '2019-11', '2019-12', '2020-01', '2020-02', '2020-03'],
            axisLine: {
                lineStyle: {
                    color: "#999"
                }
            }
        },
        yAxis: {
            type: 'value',

            splitLine: {
                lineStyle: {
                    type: 'dashed',
                    color: '#DDD'
                }
            },
            axisLine: {
                show: false,
                lineStyle: {
                    color: "#333"
                },
            },
            nameTextStyle: {
                color: "#999"
            },
            splitArea: {
                show: false
            }
        },
        series: [{
            name: '常住人口',
            type: 'line',
            data: [3187, 3144, 2313, 3219, 4141, 4681],
            color: "#F58080",
            lineStyle: {
                normal: {
                    width: 5,
                    color: {
                        type: 'linear',

                        colorStops: [{
                            offset: 0,
                            color: '#FFCAD4' // 0% 处的颜色
                        }, {
                            offset: 0.4,
                            color: '#F58080' // 100% 处的颜色
                        }, {
                            offset: 1,
                            color: '#F58080' // 100% 处的颜色
                        }],
                        globalCoord: false // 缺省为 false
                    },
                    shadowColor: 'rgba(245,128,128, 0.5)',
                    shadowBlur: 10,
                    shadowOffsetY: 7
                }
            },
            itemStyle: {
                normal: {
                    color: '#F58080',
                    borderWidth: 10,
                    /*shadowColor: 'rgba(72,216,191, 0.3)',
                     shadowBlur: 100,*/
                    borderColor: "#F58080"
                }
            },
            smooth: true
        },
        {
            name: '流动人口',
            type: 'line',
            data: [6841, 4178, 3178, 4718, 1290, 2497],
            lineStyle: {
                normal: {
                    width: 5,
                    color: {
                        type: 'linear',

                        colorStops: [{
                            offset: 0,
                            color: '#AAF487' // 0% 处的颜色
                        },
                        {
                            offset: 0.4,
                            color: '#47D8BE' // 100% 处的颜色
                        }, {
                            offset: 1,
                            color: '#47D8BE' // 100% 处的颜色
                        }
                        ],
                        globalCoord: false // 缺省为 false
                    },
                    shadowColor: 'rgba(71,216,190, 0.5)',
                    shadowBlur: 10,
                    shadowOffsetY: 7
                }
            },
            itemStyle: {
                normal: {
                    color: '#AAF487',
                    borderWidth: 10,
                    /*shadowColor: 'rgba(72,216,191, 0.3)',
                     shadowBlur: 100,*/
                    borderColor: "#AAF487"
                }
            },
            smooth: true
        }
        ]
    }
    getRandomColor = () => {
        return '#' + Math.floor(Math.random() * 16777215).toString(16);
    }
    componentDidMount = () => {
        this.map = new AMap.Map("Map", {
            viewMode: '3D',
            pitch: 55,
            zoom: 12,//级别
            skyColor: "#1c81ff",
            center: [113.528173, 23.161478],//中心点坐标
            mapStyle: 'amap://styles/dbbc68118bee5e4bc4484074b7b87276', //设置地图的显示样式
        });
        this.hanleDivision()
    }

    //黄埔行政区域
    hanleDivision = () => {
        let _this = this;
        //加载行政区划插件
        AMap.service('AMap.DistrictSearch', function () {
            var opts = {
                subdistrict: 1,   //返回下一级行政区
                extensions: 'all',  //返回行政区边界坐标组等具体信息
                level: 'city'  //查询行政级别为 市
            };
            //实例化DistrictSearch
            let district = new AMap.DistrictSearch(opts);
            district.setLevel('district');
            //行政区查询
            district.search('黄埔区', function (status, result) {
                let bounds = result.districtList[0].boundaries;
                let polygons = [];
                if (bounds) {
                    for (var i = 0, l = bounds.length; i < l; i++) {
                        //生成行政区划polygon
                        var polygon = new window.AMap.Polygon({
                            map: _this.map,
                            strokeWeight: 2,
                            path: bounds[i],
                            fillOpacity: 0,
                            fillColor: '#000001',
                            strokeColor: '#31ead7',
                        });
                        polygons.push(polygon);
                    }
                }
                _this.renderGrid()
            });

        });
    };
    renderGrid = () => {
        let polygonArray = []
        this.polygons.map(item => {
            let color = this.getRandomColor()
            let polygon = new AMap.Polygon({
                path: item.path,
                fillColor: color,
                fillOpacity: 0.42,
                strokeWeight: 1,
                strokeColor: color,
                strokeOpacity: 1,
            })
            polygonArray.push(polygon)
            polygon.setExtData(item)
            let infoWindow = new AMap.InfoWindow({ offset: new AMap.Pixel(0, -30) });
            polygon.content = `<div style="color:#fff">${item.title}</div>`;
            polygon.on('mousemove', (e) => {
                infoWindow.setContent(e.target.content);
                infoWindow.open(this.map, e.lnglat)
            });
            polygon.on('mouseout', (e) => {
                infoWindow.close()
            });
            polygon.on('click', (e) => {
                this.setState({
                    gridDetail: e.target.getExtData(),
                    showDetailModal: true
                })
            });

        })
        let overlayGroup = new AMap.OverlayGroup(polygonArray);
        this.map.add(overlayGroup);
    }
    handleDetailModelCancel = () => {
        this.setState({
            showDetailModal: false
        })
    }
    render() {
        return (
            <div className='gridWrap'>
                <div id="Map" className="Map" />
                <Modal
                    className='gridDetailModal'
                    title={`${this.state.gridDetail.title}`}
                    visible={this.state.showDetailModal}
                    onCancel={this.handleDetailModelCancel}
                    footer={null}
                >
                    <div className='manager'>
                        <div className='managerDetail'><p style={{ fontWeight: 'bold' }}>网格管理员：</p><p>何林峰(19841952248)</p></div>
                        <div className='managerDetail'><p style={{ fontWeight: 'bold' }}>网格协管员：</p><p>蒋俊豪(13539595575)</p></div>
                        <div className='managerDetail'><p style={{ fontWeight: 'bold' }}>网格警务员：</p><p>陈思鹏(19841952241)</p></div>
                        <div className='managerDetail'><p style={{ fontWeight: 'bold' }}>网格监督员：</p><p>柳倩(13676028746)</p></div>
                    </div>
                    <div className='manager'>
                        <div className='managerDetail'>
                            <ReactEcharts
                                option={this.peopleOption}
                                style={{ height: 240 }}
                            />
                        </div>
                        <div className='managerDetail'>
                            <ReactEcharts
                                option={this.buildingOption}
                                style={{ height: 240 }}
                            />
                        </div>
                        <div className='managerDetail'>
                            <ReactEcharts
                                option={this.companyOption}
                                style={{ height: 240 }}
                            />
                        </div>
                        <div className='managerDetail'>
                            <ReactEcharts
                                option={this.carOption}
                                style={{ height: 240 }}
                            />
                        </div>
                    </div>
                    <div>
                        <p style={{ fontSize: '16px' }}>人口变化折线图：</p>
                        <ReactEcharts
                            option={this.peopleChangeOption}
                            style={{ height: 240 }}
                        />
                    </div>
                </Modal>
            </div>
        )
    }
}